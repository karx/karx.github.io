<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=98b01076f4eee0a60ca6e354decb56c9c8e08869" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>qs [![Version Badge][2]][1] | karx.github.io</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="qs [![Version Badge][2]][1]" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Open channel for karx compute system interactions" />
<meta property="og:description" content="Open channel for karx compute system interactions" />
<link rel="canonical" href="http://localhost:4000/FlutterArsenal/fromgithub/node_modules/qs/" />
<meta property="og:url" content="http://localhost:4000/FlutterArsenal/fromgithub/node_modules/qs/" />
<meta property="og:site_name" content="karx.github.io" />
<script type="application/ld+json">
{"description":"Open channel for karx compute system interactions","@type":"WebPage","headline":"qs [![Version Badge][2]][1]","url":"http://localhost:4000/FlutterArsenal/fromgithub/node_modules/qs/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>karx.github.io</h1>
        </a>
        <h2>Open channel for karx compute system interactions</h2>
        
          <a href="https://github.com/karx/karx.github.io" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="qs-">qs <sup><a href="https://npmjs.org/package/qs"><img src="http://versionbadg.es/ljharb/qs.svg" alt="Version Badge" /></a></sup></h1>

<p><a href="https://travis-ci.org/ljharb/qs"><img src="https://api.travis-ci.org/ljharb/qs.svg" alt="Build Status" /></a>
<a href="https://david-dm.org/ljharb/qs"><img src="https://david-dm.org/ljharb/qs.svg" alt="dependency status" /></a>
<a href="https://david-dm.org/ljharb/qs?type=dev"><img src="https://david-dm.org/ljharb/qs/dev-status.svg" alt="dev dependency status" /></a>
<a href="/FlutterArsenal/fromgithub/node_modules/qs/LICENSE"><img src="http://img.shields.io/npm/l/qs.svg" alt="License" /></a>
<a href="http://npm-stat.com/charts.html?package=qs"><img src="http://img.shields.io/npm/dm/qs.svg" alt="Downloads" /></a></p>

<p><a href="https://npmjs.org/package/qs"><img src="https://nodei.co/npm/qs.png?downloads=true&amp;stars=true" alt="npm badge" /></a></p>

<p>A querystring parsing and stringifying library with some added security.</p>

<p>Lead Maintainer: <a href="https://github.com/ljharb">Jordan Harband</a></p>

<p>The <strong>qs</strong> module was originally created and maintained by <a href="https://github.com/visionmedia/node-querystring">TJ Holowaychuk</a>.</p>

<h2 id="usage">Usage</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'qs'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">assert</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'assert'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">});</span>

<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="s1">'a=c'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="parsing-objects">Parsing Objects</h3>

<p><a href="#preventEval"></a></p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">string</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</code></pre></div></div>

<p><strong>qs</strong> allows you to create nested objects within your query strings, by surrounding the name of sub-keys with square brackets <code class="highlighter-rouge">[]</code>.
For example, the string <code class="highlighter-rouge">'foo[bar]=baz'</code> converts to:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'foo[bar]=baz'</span><span class="p">),</span> <span class="p">{</span>
    <span class="na">foo</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">bar</span><span class="p">:</span> <span class="s1">'baz'</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>When using the <code class="highlighter-rouge">plainObjects</code> option the parsed value is returned as a null object, created via <code class="highlighter-rouge">Object.create(null)</code> and as such you should be aware that prototype methods will not exist on it and a user may set those names to whatever value they like:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nullObject</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[hasOwnProperty]=b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">plainObjects</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">nullObject</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">hasOwnProperty</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>By default parameters that would overwrite properties on the object prototype are ignored, if you wish to keep the data from those fields either use <code class="highlighter-rouge">plainObjects</code> as mentioned above, or set <code class="highlighter-rouge">allowPrototypes</code> to <code class="highlighter-rouge">true</code> which will allow user input to overwrite those properties. <em>WARNING</em> It is generally a bad idea to enable this option as it can cause problems when attempting to use the properties that have been overwritten. Always be careful with this option.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">protoObject</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[hasOwnProperty]=b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">allowPrototypes</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">protoObject</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">hasOwnProperty</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>URI encoded strings work too:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a%5Bb%5D=c'</span><span class="p">),</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>You can also nest your objects, like <code class="highlighter-rouge">'foo[bar][baz]=foobarbaz'</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'foo[bar][baz]=foobarbaz'</span><span class="p">),</span> <span class="p">{</span>
    <span class="na">foo</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">bar</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">baz</span><span class="p">:</span> <span class="s1">'foobarbaz'</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>By default, when nesting objects <strong>qs</strong> will only parse up to 5 children deep. This means if you attempt to parse a string like
<code class="highlighter-rouge">'a[b][c][d][e][f][g][h][i]=j'</code> your resulting object will be:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">expected</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">b</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">c</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">d</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">e</span><span class="p">:</span> <span class="p">{</span>
                        <span class="na">f</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">'[g][h][i]'</span><span class="p">:</span> <span class="s1">'j'</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s1">'a[b][c][d][e][f][g][h][i]=j'</span><span class="p">;</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">string</span><span class="p">),</span> <span class="nx">expected</span><span class="p">);</span>
</code></pre></div></div>

<p>This depth can be overridden by passing a <code class="highlighter-rouge">depth</code> option to <code class="highlighter-rouge">qs.parse(string, [options])</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">deep</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[b][c][d][e][f][g][h][i]=j'</span><span class="p">,</span> <span class="p">{</span> <span class="na">depth</span><span class="p">:</span> <span class="mi">1</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">deep</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'[c][d][e][f][g][h][i]'</span><span class="p">:</span> <span class="s1">'j'</span> <span class="p">}</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>The depth limit helps mitigate abuse when <strong>qs</strong> is used to parse user input, and it is recommended to keep it a reasonably small number.</p>

<p>For similar reasons, by default <strong>qs</strong> will only parse up to 1000 parameters. This can be overridden by passing a <code class="highlighter-rouge">parameterLimit</code> option:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">limited</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a=b&amp;c=d'</span><span class="p">,</span> <span class="p">{</span> <span class="na">parameterLimit</span><span class="p">:</span> <span class="mi">1</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">limited</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">});</span>
</code></pre></div></div>

<p>To bypass the leading question mark, use <code class="highlighter-rouge">ignoreQueryPrefix</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">prefixed</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'?a=b&amp;c=d'</span><span class="p">,</span> <span class="p">{</span> <span class="na">ignoreQueryPrefix</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">prefixed</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span> <span class="p">});</span>
</code></pre></div></div>

<p>An optional delimiter can also be passed:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">delimited</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a=b;c=d'</span><span class="p">,</span> <span class="p">{</span> <span class="na">delimiter</span><span class="p">:</span> <span class="s1">';'</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">delimited</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span> <span class="p">});</span>
</code></pre></div></div>

<p>Delimiters can be a regular expression too:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">regexed</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a=b;c=d,e=f'</span><span class="p">,</span> <span class="p">{</span> <span class="na">delimiter</span><span class="p">:</span> <span class="sr">/</span><span class="se">[</span><span class="sr">;,</span><span class="se">]</span><span class="sr">/</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">regexed</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span><span class="p">,</span> <span class="na">e</span><span class="p">:</span> <span class="s1">'f'</span> <span class="p">});</span>
</code></pre></div></div>

<p>Option <code class="highlighter-rouge">allowDots</code> can be used to enable dot notation:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withDots</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a.b=c'</span><span class="p">,</span> <span class="p">{</span> <span class="na">allowDots</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withDots</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<h3 id="parsing-arrays">Parsing Arrays</h3>

<p><strong>qs</strong> can also parse arrays using a similar <code class="highlighter-rouge">[]</code> notation:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withArray</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[]=b&amp;a[]=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withArray</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">});</span>
</code></pre></div></div>

<p>You may specify an index as well:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withIndexes</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[1]=c&amp;a[0]=b'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withIndexes</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">});</span>
</code></pre></div></div>

<p>Note that the only difference between an index in an array and a key in an object is that the value between the brackets must be a number
to create an array. When creating arrays with specific indices, <strong>qs</strong> will compact a sparse array to only the existing values preserving
their order:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">noSparse</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[1]=b&amp;a[15]=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">noSparse</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">});</span>
</code></pre></div></div>

<p>Note that an empty string is also a value, and will be preserved:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withEmptyString</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[]=&amp;a[]=b'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withEmptyString</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">''</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">]</span> <span class="p">});</span>

<span class="kd">var</span> <span class="nx">withIndexedEmptyString</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[0]=b&amp;a[1]=&amp;a[2]=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withIndexedEmptyString</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">});</span>
</code></pre></div></div>

<p><strong>qs</strong> will also limit specifying indices in an array to a maximum index of <code class="highlighter-rouge">20</code>. Any array members with an index of greater than <code class="highlighter-rouge">20</code> will
instead be converted to an object with the index as the key:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withMaxIndex</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[100]=b'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withMaxIndex</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'100'</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>This limit can be overridden by passing an <code class="highlighter-rouge">arrayLimit</code> option:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withArrayLimit</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[1]=b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">arrayLimit</span><span class="p">:</span> <span class="mi">0</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">withArrayLimit</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'1'</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>To disable array parsing entirely, set <code class="highlighter-rouge">parseArrays</code> to <code class="highlighter-rouge">false</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">noParsingArrays</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[]=b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">parseArrays</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">noParsingArrays</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'0'</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>If you mix notations, <strong>qs</strong> will merge the two items into an object:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">mixedNotation</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[0]=b&amp;a[b]=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">mixedNotation</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'0'</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div></div>

<p>You can also create arrays of objects:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arraysOfObjects</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a[][b]=c'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">arraysOfObjects</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="p">[{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}]</span> <span class="p">});</span>
</code></pre></div></div>

<h3 id="stringifying">Stringifying</h3>

<p><a href="#preventEval"></a></p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>
</code></pre></div></div>

<p>When stringifying, <strong>qs</strong> by default URI encodes output. Objects are stringified as you would expect:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span> <span class="p">}),</span> <span class="s1">'a=b'</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span> <span class="p">}),</span> <span class="s1">'a%5Bb%5D=c'</span><span class="p">);</span>
</code></pre></div></div>

<p>This encoding can be disabled by setting the <code class="highlighter-rouge">encode</code> option to <code class="highlighter-rouge">false</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">unencoded</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span> <span class="p">},</span> <span class="p">{</span> <span class="na">encode</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">unencoded</span><span class="p">,</span> <span class="s1">'a[b]=c'</span><span class="p">);</span>
</code></pre></div></div>

<p>Encoding can be disabled for keys by setting the <code class="highlighter-rouge">encodeValuesOnly</code> option to <code class="highlighter-rouge">true</code>:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">encodedValues</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="p">[</span><span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e=f'</span><span class="p">],</span> <span class="na">f</span><span class="p">:</span> <span class="p">[[</span><span class="s1">'g'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'h'</span><span class="p">]]</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">encodeValuesOnly</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
<span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">encodedValues</span><span class="p">,</span><span class="s1">'a=b&amp;c[0]=d&amp;c[1]=e%3Df&amp;f[0][0]=g&amp;f[1][0]=h'</span><span class="p">);</span>
</code></pre></div></div>

<p>This encoding can also be replaced by a custom encoding method set as <code class="highlighter-rouge">encoder</code> option:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">encoded</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="s1">'c'</span> <span class="p">}</span> <span class="p">},</span> <span class="p">{</span> <span class="na">encoder</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Passed in values `a`, `b`, `c`</span>
    <span class="k">return</span> <span class="c1">// Return encoded string</span>
<span class="p">}})</span>
</code></pre></div></div>

<p><em>(Note: the <code class="highlighter-rouge">encoder</code> option does not apply if <code class="highlighter-rouge">encode</code> is <code class="highlighter-rouge">false</code>)</em></p>

<p>Analogue to the <code class="highlighter-rouge">encoder</code> there is a <code class="highlighter-rouge">decoder</code> option for <code class="highlighter-rouge">parse</code> to override decoding of properties and values:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">decoded</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'x=z'</span><span class="p">,</span> <span class="p">{</span> <span class="na">decoder</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Passed in values `x`, `z`</span>
    <span class="k">return</span> <span class="c1">// Return decoded string</span>
<span class="p">}})</span>
</code></pre></div></div>

<p>Examples beyond this point will be shown as though the output is not URI encoded for clarity. Please note that the return values in these cases <em>will</em> be URI encoded during real usage.</p>

<p>When arrays are stringified, by default they are given explicit indices:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">]</span> <span class="p">});</span>
<span class="c1">// 'a[0]=b&amp;a[1]=c&amp;a[2]=d'</span>
</code></pre></div></div>

<p>You may override this by setting the <code class="highlighter-rouge">indices</code> option to <code class="highlighter-rouge">false</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">]</span> <span class="p">},</span> <span class="p">{</span> <span class="na">indices</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="c1">// 'a=b&amp;a=c&amp;a=d'</span>
</code></pre></div></div>

<p>You may use the <code class="highlighter-rouge">arrayFormat</code> option to specify the format of the output array:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">},</span> <span class="p">{</span> <span class="na">arrayFormat</span><span class="p">:</span> <span class="s1">'indices'</span> <span class="p">})</span>
<span class="c1">// 'a[0]=b&amp;a[1]=c'</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">},</span> <span class="p">{</span> <span class="na">arrayFormat</span><span class="p">:</span> <span class="s1">'brackets'</span> <span class="p">})</span>
<span class="c1">// 'a[]=b&amp;a[]=c'</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span> <span class="p">},</span> <span class="p">{</span> <span class="na">arrayFormat</span><span class="p">:</span> <span class="s1">'repeat'</span> <span class="p">})</span>
<span class="c1">// 'a=b&amp;a=c'</span>
</code></pre></div></div>

<p>When objects are stringified, by default they use bracket notation:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span><span class="p">,</span> <span class="na">e</span><span class="p">:</span> <span class="s1">'f'</span> <span class="p">}</span> <span class="p">}</span> <span class="p">});</span>
<span class="c1">// 'a[b][c]=d&amp;a[b][e]=f'</span>
</code></pre></div></div>

<p>You may override this to use dot notation by setting the <code class="highlighter-rouge">allowDots</code> option to <code class="highlighter-rouge">true</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span><span class="p">,</span> <span class="na">e</span><span class="p">:</span> <span class="s1">'f'</span> <span class="p">}</span> <span class="p">}</span> <span class="p">},</span> <span class="p">{</span> <span class="na">allowDots</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="c1">// 'a.b.c=d&amp;a.b.e=f'</span>
</code></pre></div></div>

<p>Empty strings and null values will omit the value, but the equals sign (=) remains in place:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">''</span> <span class="p">}),</span> <span class="s1">'a='</span><span class="p">);</span>
</code></pre></div></div>

<p>Key with no values (such as an empty object or array) will return nothing:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[]</span> <span class="p">}),</span> <span class="s1">''</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}),</span> <span class="s1">''</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[{}]</span> <span class="p">}),</span> <span class="s1">''</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">[]}</span> <span class="p">}),</span> <span class="s1">''</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">{}}</span> <span class="p">}),</span> <span class="s1">''</span><span class="p">);</span>
</code></pre></div></div>

<p>Properties that are set to <code class="highlighter-rouge">undefined</code> will be omitted entirely:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="kc">undefined</span> <span class="p">}),</span> <span class="s1">'a='</span><span class="p">);</span>
</code></pre></div></div>

<p>The query string may optionally be prepended with a question mark:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">addQueryPrefix</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}),</span> <span class="s1">'?a=b&amp;c=d'</span><span class="p">);</span>
</code></pre></div></div>

<p>The delimiter may be overridden with stringify as well:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">delimiter</span><span class="p">:</span> <span class="s1">';'</span> <span class="p">}),</span> <span class="s1">'a=b;c=d'</span><span class="p">);</span>
</code></pre></div></div>

<p>If you only want to override the serialization of <code class="highlighter-rouge">Date</code> objects, you can provide a <code class="highlighter-rouge">serializeDate</code> option:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="nx">date</span> <span class="p">}),</span> <span class="s1">'a=1970-01-01T00:00:00.007Z'</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/:/g</span><span class="p">,</span> <span class="s1">'%3A'</span><span class="p">));</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span>
    <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="nx">date</span> <span class="p">},</span> <span class="p">{</span> <span class="na">serializeDate</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span> <span class="p">}</span> <span class="p">}),</span>
    <span class="s1">'a=7'</span>
<span class="p">);</span>
</code></pre></div></div>

<p>You may use the <code class="highlighter-rouge">sort</code> option to affect the order of parameter keys:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">alphabeticalSort</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">localeCompare</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'c'</span><span class="p">,</span> <span class="na">z</span><span class="p">:</span> <span class="s1">'y'</span><span class="p">,</span> <span class="na">b</span> <span class="p">:</span> <span class="s1">'f'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">sort</span><span class="p">:</span> <span class="nx">alphabeticalSort</span> <span class="p">}),</span> <span class="s1">'a=c&amp;b=f&amp;z=y'</span><span class="p">);</span>
</code></pre></div></div>

<p>Finally, you can use the <code class="highlighter-rouge">filter</code> option to restrict which keys will be included in the stringified output.
If you pass a function, it will be called for each key to obtain the replacement value. Otherwise, if you
pass an array, it will be used to select properties and array indices for stringification:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">filterFunc</span><span class="p">(</span><span class="nx">prefix</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">prefix</span> <span class="o">==</span> <span class="s1">'b'</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Return an `undefined` value to omit a property.</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">prefix</span> <span class="o">==</span> <span class="s1">'e[f]'</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">prefix</span> <span class="o">==</span> <span class="s1">'e[g][0]'</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span><span class="p">,</span> <span class="na">e</span><span class="p">:</span> <span class="p">{</span> <span class="na">f</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">123</span><span class="p">),</span> <span class="na">g</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">}</span> <span class="p">},</span> <span class="p">{</span> <span class="na">filter</span><span class="p">:</span> <span class="nx">filterFunc</span> <span class="p">});</span>
<span class="c1">// 'a=b&amp;c=d&amp;e[f]=123&amp;e[g][0]=4'</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="s1">'d'</span><span class="p">,</span> <span class="na">e</span><span class="p">:</span> <span class="s1">'f'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">filter</span><span class="p">:</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">]</span> <span class="p">});</span>
<span class="c1">// 'a=b&amp;e=f'</span>
<span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">],</span> <span class="na">e</span><span class="p">:</span> <span class="s1">'f'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">filter</span><span class="p">:</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="p">});</span>
<span class="c1">// 'a[0]=b&amp;a[2]=d'</span>
</code></pre></div></div>

<h3 id="handling-of-null-values">Handling of <code class="highlighter-rouge">null</code> values</h3>

<p>By default, <code class="highlighter-rouge">null</code> values are treated like empty strings:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">withNull</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="s1">''</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">withNull</span><span class="p">,</span> <span class="s1">'a=&amp;b='</span><span class="p">);</span>
</code></pre></div></div>

<p>Parsing does not distinguish between parameters with and without equal signs. Both are converted to empty strings.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">equalsInsensitive</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a&amp;b='</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">equalsInsensitive</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="s1">''</span> <span class="p">});</span>
</code></pre></div></div>

<p>To distinguish between <code class="highlighter-rouge">null</code> values and empty strings use the <code class="highlighter-rouge">strictNullHandling</code> flag. In the result string the <code class="highlighter-rouge">null</code>
values have no <code class="highlighter-rouge">=</code> sign:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">strictNull</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="s1">''</span> <span class="p">},</span> <span class="p">{</span> <span class="na">strictNullHandling</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">strictNull</span><span class="p">,</span> <span class="s1">'a&amp;b='</span><span class="p">);</span>
</code></pre></div></div>

<p>To parse values without <code class="highlighter-rouge">=</code> back to <code class="highlighter-rouge">null</code> use the <code class="highlighter-rouge">strictNullHandling</code> flag:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">parsedStrictNull</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a&amp;b='</span><span class="p">,</span> <span class="p">{</span> <span class="na">strictNullHandling</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">parsedStrictNull</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="s1">''</span> <span class="p">});</span>
</code></pre></div></div>

<p>To completely skip rendering keys with <code class="highlighter-rouge">null</code> values, use the <code class="highlighter-rouge">skipNulls</code> flag:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nullsSkipped</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'b'</span><span class="p">,</span> <span class="na">c</span><span class="p">:</span> <span class="kc">null</span><span class="p">},</span> <span class="p">{</span> <span class="na">skipNulls</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">nullsSkipped</span><span class="p">,</span> <span class="s1">'a=b'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="dealing-with-special-character-sets">Dealing with special character sets</h3>

<p>By default the encoding and decoding of characters is done in <code class="highlighter-rouge">utf-8</code>. If you
wish to encode querystrings to a different character set (i.e.
<a href="https://en.wikipedia.org/wiki/Shift_JIS">Shift JIS</a>) you can use the
<a href="https://github.com/martinheidegger/qs-iconv"><code class="highlighter-rouge">qs-iconv</code></a> library:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">encoder</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'qs-iconv/encoder'</span><span class="p">)(</span><span class="s1">'shift_jis'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">shiftJISEncoded</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'こんにちは！'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">encoder</span><span class="p">:</span> <span class="nx">encoder</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">shiftJISEncoded</span><span class="p">,</span> <span class="s1">'a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I'</span><span class="p">);</span>
</code></pre></div></div>

<p>This also works for decoding of query strings:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">decoder</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'qs-iconv/decoder'</span><span class="p">)(</span><span class="s1">'shift_jis'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I'</span><span class="p">,</span> <span class="p">{</span> <span class="na">decoder</span><span class="p">:</span> <span class="nx">decoder</span> <span class="p">});</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="s1">'こんにちは！'</span> <span class="p">});</span>
</code></pre></div></div>

<h3 id="rfc-3986-and-rfc-1738-space-encoding">RFC 3986 and RFC 1738 space encoding</h3>

<p>RFC3986 used as default option and encodes ‘ ‘ to <em>%20</em> which is backward compatible.
In the same time, output can be stringified as per RFC1738 with ‘ ‘ equal to ‘+’.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assert.equal(qs.stringify({ a: 'b c' }), 'a=b%20c');
assert.equal(qs.stringify({ a: 'b c' }, { format : 'RFC3986' }), 'a=b%20c');
assert.equal(qs.stringify({ a: 'b c' }, { format : 'RFC1738' }), 'a=b+c');
</code></pre></div></div>


        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/karx/karx.github.io">karx.github.io</a> is maintained by <a href="https://github.com/karx">karx</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

    
  </body>
</html>
