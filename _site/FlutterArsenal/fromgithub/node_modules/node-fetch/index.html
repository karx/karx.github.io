<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=98b01076f4eee0a60ca6e354decb56c9c8e08869" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>node-fetch | karx.github.io</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="node-fetch" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Open channel for karx compute system interactions" />
<meta property="og:description" content="Open channel for karx compute system interactions" />
<link rel="canonical" href="http://localhost:4000/FlutterArsenal/fromgithub/node_modules/node-fetch/" />
<meta property="og:url" content="http://localhost:4000/FlutterArsenal/fromgithub/node_modules/node-fetch/" />
<meta property="og:site_name" content="karx.github.io" />
<script type="application/ld+json">
{"description":"Open channel for karx compute system interactions","@type":"WebPage","headline":"node-fetch","url":"http://localhost:4000/FlutterArsenal/fromgithub/node_modules/node-fetch/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>karx.github.io</h1>
        </a>
        <h2>Open channel for karx compute system interactions</h2>
        
          <a href="https://github.com/karx/karx.github.io" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
<h1 id="node-fetch">node-fetch</h1>

<p><a href="https://www.npmjs.com/package/node-fetch"><img src="https://img.shields.io/npm/v/node-fetch.svg?style=flat-square" alt="npm stable version" /></a>
<a href="https://www.npmjs.com/package/node-fetch"><img src="https://img.shields.io/npm/v/node-fetch/next.svg?style=flat-square" alt="npm next version" /></a>
<a href="https://travis-ci.org/bitinn/node-fetch"><img src="https://img.shields.io/travis/bitinn/node-fetch.svg?style=flat-square" alt="build status" /></a>
<a href="https://codecov.io/gh/bitinn/node-fetch"><img src="https://img.shields.io/codecov/c/github/bitinn/node-fetch.svg?style=flat-square" alt="coverage status" /></a></p>

<p>A light-weight module that brings <code class="highlighter-rouge">window.fetch</code> to Node.js</p>

<h2 id="motivation">Motivation</h2>

<p>Instead of implementing <code class="highlighter-rouge">XMLHttpRequest</code> in Node.js to run browser-specific <a href="https://github.com/github/fetch">Fetch polyfill</a>, why not go from native <code class="highlighter-rouge">http</code> to <code class="highlighter-rouge">fetch</code> API directly? Hence <code class="highlighter-rouge">node-fetch</code>, minimal code for a <code class="highlighter-rouge">window.fetch</code> compatible API on Node.js runtime.</p>

<p>See Matt Andrews’ <a href="https://github.com/matthew-andrews/isomorphic-fetch">isomorphic-fetch</a> or Leonardo Quixada’s <a href="https://github.com/lquixada/cross-fetch">cross-fetch</a> for isomorphic usage (exports <code class="highlighter-rouge">node-fetch</code> for server-side, <code class="highlighter-rouge">whatwg-fetch</code> for client-side).</p>

<h2 id="features">Features</h2>

<ul>
  <li>Stay consistent with <code class="highlighter-rouge">window.fetch</code> API.</li>
  <li>Make conscious trade-off when following <a href="https://fetch.spec.whatwg.org/">whatwg fetch spec</a> and <a href="https://streams.spec.whatwg.org/">stream spec</a> implementation details, document known difference.</li>
  <li>Use native promise, but allow substituting it with [insert your favorite promise library].</li>
  <li>Use native stream for body, on both request and response.</li>
  <li>Decode content encoding (gzip/deflate) properly, convert <code class="highlighter-rouge">res.text()</code> output to UTF-8 optionally.</li>
  <li>Useful extensions such as timeout, redirect limit, response size limit, <a href="https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md">explicit errors</a> for troubleshooting.</li>
</ul>

<h2 id="difference-from-client-side-fetch">Difference from client-side fetch</h2>

<ul>
  <li>See <a href="https://github.com/bitinn/node-fetch/blob/master/LIMITS.md">Known Differences</a> for details.</li>
  <li>If you happen to use a missing feature that <code class="highlighter-rouge">window.fetch</code> offers, feel free to open an issue.</li>
  <li>Pull requests are welcomed too!</li>
</ul>

<h2 id="install">Install</h2>

<p>Stable release (<code class="highlighter-rouge">2.x</code>)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm install node-fetch <span class="nt">--save</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Note that documentation below is up-to-date with <code class="highlighter-rouge">2.x</code> releases, <a href="https://github.com/bitinn/node-fetch/blob/1.x/README.md">see <code class="highlighter-rouge">1.x</code> readme</a>, <a href="https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md">changelog</a> and <a href="https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md">2.x upgrade guide</a> if you want to find out the difference.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">fetch</span> <span class="k">from</span> <span class="s1">'node-fetch'</span><span class="p">;</span>
<span class="c1">// or</span>
<span class="c1">// const fetch = require('node-fetch');</span>

<span class="c1">// if you are using your own Promise library, set it through fetch.Promise. Eg.</span>

<span class="c1">// import Bluebird from 'bluebird';</span>
<span class="c1">// fetch.Promise = Bluebird;</span>

<span class="c1">// plain text or html</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://github.com/'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">body</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">));</span>

<span class="c1">// json</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.github.com/users/github'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// catching network error</span>
<span class="c1">// 3xx-5xx responses are NOT network errors, and should be handled in then()</span>
<span class="c1">// you only need one catch() at the end of your promise chain</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://domain.invalid/'</span><span class="p">)</span>
	<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>

<span class="c1">// stream</span>
<span class="c1">// the node.js way is to use stream when possible</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://assets-cdn.github.com/images/modules/logos_page/Octocat.png'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="kd">const</span> <span class="nx">dest</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">'./octocat.png'</span><span class="p">);</span>
		<span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">dest</span><span class="p">);</span>
	<span class="p">});</span>

<span class="c1">// buffer</span>
<span class="c1">// if you prefer to cache binary data in full, use buffer()</span>
<span class="c1">// note that buffer() is a node-fetch only API</span>

<span class="k">import</span> <span class="nx">fileType</span> <span class="k">from</span> <span class="s1">'file-type'</span><span class="p">;</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://assets-cdn.github.com/images/modules/logos_page/Octocat.png'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">buffer</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">buffer</span> <span class="o">=&gt;</span> <span class="nx">fileType</span><span class="p">(</span><span class="nx">buffer</span><span class="p">))</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">type</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>

<span class="c1">// meta</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://github.com/'</span><span class="p">)</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">ok</span><span class="p">);</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">raw</span><span class="p">());</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'content-type'</span><span class="p">));</span>
	<span class="p">});</span>

<span class="c1">// post</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="na">body</span><span class="p">:</span> <span class="s1">'a=1'</span> <span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// post with stream from file</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">createReadStream</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'fs'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">createReadStream</span><span class="p">(</span><span class="s1">'input.txt'</span><span class="p">);</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="na">body</span><span class="p">:</span> <span class="nx">stream</span> <span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// post with JSON</span>

<span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> 
	<span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span>
	<span class="na">body</span><span class="p">:</span>    <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">),</span>
	<span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">},</span>
<span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// post form parameters (x-www-form-urlencoded)</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">URLSearchParams</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'url'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">();</span>
<span class="nx">params</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="na">body</span><span class="p">:</span> <span class="nx">params</span> <span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// post with form-data (detect multipart)</span>

<span class="k">import</span> <span class="nx">FormData</span> <span class="k">from</span> <span class="s1">'form-data'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="na">body</span><span class="p">:</span> <span class="nx">form</span> <span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// post with form-data (custom headers)</span>
<span class="c1">// note that getHeaders() is non-standard API</span>

<span class="k">import</span> <span class="nx">FormData</span> <span class="k">from</span> <span class="s1">'form-data'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="p">{</span> <span class="na">method</span><span class="p">:</span> <span class="s1">'POST'</span><span class="p">,</span> <span class="na">body</span><span class="p">:</span> <span class="nx">form</span><span class="p">,</span> <span class="na">headers</span><span class="p">:</span> <span class="nx">form</span><span class="p">.</span><span class="nx">getHeaders</span><span class="p">()</span> <span class="p">})</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
	<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>

<span class="c1">// node 7+ with async function</span>

<span class="p">(</span><span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">'https://api.github.com/users/github'</span><span class="p">);</span>
	<span class="kd">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre></div></div>

<p>See <a href="https://github.com/bitinn/node-fetch/blob/master/test/test.js">test cases</a> for more examples.</p>

<h2 id="api">API</h2>

<h3 id="fetchurl-options">fetch(url[, options])</h3>

<ul>
  <li><code class="highlighter-rouge">url</code> A string representing the URL for fetching</li>
  <li><code class="highlighter-rouge">options</code> <a href="#fetch-options">Options</a> for the HTTP(S) request</li>
  <li>Returns: <code>Promise&lt;[Response](#class-response)&gt;</code></li>
</ul>

<p>Perform an HTTP(S) fetch.</p>

<p><code class="highlighter-rouge">url</code> should be an absolute url, such as <code class="highlighter-rouge">http://example.com/</code>. A path-relative URL (<code class="highlighter-rouge">/file/under/root</code>) or protocol-relative URL (<code class="highlighter-rouge">//can-be-http-or-https.com/</code>) will result in a rejected promise.</p>

<p><a id="fetch-options"></a></p>
<h4 id="options">Options</h4>

<p>The default values are shown after each option key.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
	<span class="c1">// These properties are part of the Fetch Standard</span>
	<span class="nl">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
	<span class="nx">headers</span><span class="p">:</span> <span class="p">{},</span>        <span class="c1">// request headers. format is the identical to that accepted by the Headers constructor (see below)</span>
	<span class="nx">body</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>         <span class="c1">// request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream</span>
	<span class="nx">redirect</span><span class="p">:</span> <span class="s1">'follow'</span><span class="p">,</span> <span class="c1">// set to `manual` to extract redirect headers, `error` to reject redirect</span>

	<span class="c1">// The following properties are node-fetch extensions</span>
	<span class="nx">follow</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>         <span class="c1">// maximum redirect count. 0 to not follow redirect</span>
	<span class="nx">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>         <span class="c1">// req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies)</span>
	<span class="nx">compress</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>     <span class="c1">// support gzip/deflate content encoding. false to disable</span>
	<span class="nx">size</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>            <span class="c1">// maximum response body size in bytes. 0 to disable</span>
	<span class="nx">agent</span><span class="p">:</span> <span class="kc">null</span>         <span class="c1">// http(s).Agent instance, allows custom proxy, certificate etc.</span>
<span class="p">}</span>
</code></pre></div></div>

<h5 id="default-headers">Default Headers</h5>

<p>If no values are set, the following request headers will be sent automatically:</p>

<table>
  <thead>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Accept-Encoding</code></td>
      <td><code class="highlighter-rouge">gzip,deflate</code> <em>(when <code class="highlighter-rouge">options.compress === true</code>)</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Accept</code></td>
      <td><code class="highlighter-rouge">*/*</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Connection</code></td>
      <td><code class="highlighter-rouge">close</code> <em>(when no <code class="highlighter-rouge">options.agent</code> is present)</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Content-Length</code></td>
      <td><em>(automatically calculated, if possible)</em></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">User-Agent</code></td>
      <td><code class="highlighter-rouge">node-fetch/1.0 (+https://github.com/bitinn/node-fetch)</code></td>
    </tr>
  </tbody>
</table>

<p><a id="class-request"></a></p>
<h3 id="class-request">Class: Request</h3>

<p>An HTTP(S) request containing information about URL, method, headers, and the body. This class implements the <a href="#iface-body">Body</a> interface.</p>

<p>Due to the nature of Node.js, the following properties are not implemented at this moment:</p>

<ul>
  <li><code class="highlighter-rouge">type</code></li>
  <li><code class="highlighter-rouge">destination</code></li>
  <li><code class="highlighter-rouge">referrer</code></li>
  <li><code class="highlighter-rouge">referrerPolicy</code></li>
  <li><code class="highlighter-rouge">mode</code></li>
  <li><code class="highlighter-rouge">credentials</code></li>
  <li><code class="highlighter-rouge">cache</code></li>
  <li><code class="highlighter-rouge">integrity</code></li>
  <li><code class="highlighter-rouge">keepalive</code></li>
</ul>

<p>The following node-fetch extension properties are provided:</p>

<ul>
  <li><code class="highlighter-rouge">follow</code></li>
  <li><code class="highlighter-rouge">compress</code></li>
  <li><code class="highlighter-rouge">counter</code></li>
  <li><code class="highlighter-rouge">agent</code></li>
</ul>

<p>See <a href="#fetch-options">options</a> for exact meaning of these extensions.</p>

<h4 id="new-requestinput-options">new Request(input[, options])</h4>

<p><small><em>(spec-compliant)</em></small></p>

<ul>
  <li><code class="highlighter-rouge">input</code> A string representing a URL, or another <code class="highlighter-rouge">Request</code> (which will be cloned)</li>
  <li><code class="highlighter-rouge">options</code> [Options][#fetch-options] for the HTTP(S) request</li>
</ul>

<p>Constructs a new <code class="highlighter-rouge">Request</code> object. The constructor is identical to that in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request">browser</a>.</p>

<p>In most cases, directly <code class="highlighter-rouge">fetch(url, options)</code> is simpler than creating a <code class="highlighter-rouge">Request</code> object.</p>

<p><a id="class-response"></a></p>
<h3 id="class-response">Class: Response</h3>

<p>An HTTP(S) response. This class implements the <a href="#iface-body">Body</a> interface.</p>

<p>The following properties are not implemented in node-fetch at this moment:</p>

<ul>
  <li><code class="highlighter-rouge">Response.error()</code></li>
  <li><code class="highlighter-rouge">Response.redirect()</code></li>
  <li><code class="highlighter-rouge">type</code></li>
  <li><code class="highlighter-rouge">redirected</code></li>
  <li><code class="highlighter-rouge">trailer</code></li>
</ul>

<h4 id="new-responsebody-options">new Response([body[, options]])</h4>

<p><small><em>(spec-compliant)</em></small></p>

<ul>
  <li><code class="highlighter-rouge">body</code> A string or <a href="https://nodejs.org/api/stream.html#stream_readable_streams">Readable stream</a></li>
  <li><code class="highlighter-rouge">options</code> A <a href="https://fetch.spec.whatwg.org/#responseinit"><code class="highlighter-rouge">ResponseInit</code></a> options dictionary</li>
</ul>

<p>Constructs a new <code class="highlighter-rouge">Response</code> object. The constructor is identical to that in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/Response">browser</a>.</p>

<p>Because Node.js does not implement service workers (for which this class was designed), one rarely has to construct a <code class="highlighter-rouge">Response</code> directly.</p>

<h4 id="responseok">response.ok</h4>

<p>Convenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.</p>

<p><a id="class-headers"></a></p>
<h3 id="class-headers">Class: Headers</h3>

<p>This class allows manipulating and iterating over a set of HTTP headers. All methods specified in the <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a> are implemented.</p>

<h4 id="new-headersinit">new Headers([init])</h4>

<p><small><em>(spec-compliant)</em></small></p>

<ul>
  <li><code class="highlighter-rouge">init</code> Optional argument to pre-fill the <code class="highlighter-rouge">Headers</code> object</li>
</ul>

<p>Construct a new <code class="highlighter-rouge">Headers</code> object. <code class="highlighter-rouge">init</code> can be either <code class="highlighter-rouge">null</code>, a <code class="highlighter-rouge">Headers</code> object, an key-value map object, or any iterable object.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class</span>

<span class="kd">const</span> <span class="nx">meta</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'text/xml'</span><span class="p">,</span>
  <span class="s1">'Breaking-Bad'</span><span class="p">:</span> <span class="s1">'&lt;3'</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span><span class="nx">meta</span><span class="p">);</span>

<span class="c1">// The above is equivalent to</span>
<span class="kd">const</span> <span class="nx">meta</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span> <span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'text/xml'</span> <span class="p">],</span>
  <span class="p">[</span> <span class="s1">'Breaking-Bad'</span><span class="p">,</span> <span class="s1">'&lt;3'</span> <span class="p">]</span>
<span class="p">];</span>
<span class="kd">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span><span class="nx">meta</span><span class="p">);</span>

<span class="c1">// You can in fact use any iterable objects, like a Map or even another Headers</span>
<span class="kd">const</span> <span class="nx">meta</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>
<span class="nx">meta</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'text/xml'</span><span class="p">);</span>
<span class="nx">meta</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="s1">'Breaking-Bad'</span><span class="p">,</span> <span class="s1">'&lt;3'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span><span class="nx">meta</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">copyOfHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span><span class="nx">headers</span><span class="p">);</span>
</code></pre></div></div>

<p><a id="iface-body"></a></p>
<h3 id="interface-body">Interface: Body</h3>

<p><code class="highlighter-rouge">Body</code> is an abstract interface with methods that are applicable to both <code class="highlighter-rouge">Request</code> and <code class="highlighter-rouge">Response</code> classes.</p>

<p>The following methods are not yet implemented in node-fetch at this moment:</p>

<ul>
  <li><code class="highlighter-rouge">formData()</code></li>
</ul>

<h4 id="bodybody">body.body</h4>

<p><small><em>(deviation from spec)</em></small></p>

<ul>
  <li>Node.js <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code class="highlighter-rouge">Readable</code> stream</a></li>
</ul>

<p>The data encapsulated in the <code class="highlighter-rouge">Body</code> object. Note that while the <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a> requires the property to always be a WHATWG <code class="highlighter-rouge">ReadableStream</code>, in node-fetch it is a Node.js <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code class="highlighter-rouge">Readable</code> stream</a>.</p>

<h4 id="bodybodyused">body.bodyUsed</h4>

<p><small><em>(spec-compliant)</em></small></p>

<ul>
  <li><code class="highlighter-rouge">Boolean</code></li>
</ul>

<p>A boolean property for if this body has been consumed. Per spec, a consumed body cannot be used again.</p>

<h4 id="bodyarraybuffer">body.arrayBuffer()</h4>
<h4 id="bodyblob">body.blob()</h4>
<h4 id="bodyjson">body.json()</h4>
<h4 id="bodytext">body.text()</h4>

<p><small><em>(spec-compliant)</em></small></p>

<ul>
  <li>Returns: <code>Promise</code></li>
</ul>

<p>Consume the body and return a promise that will resolve to one of these formats.</p>

<h4 id="bodybuffer">body.buffer()</h4>

<p><small><em>(node-fetch extension)</em></small></p>

<ul>
  <li>Returns: <code>Promise&lt;Buffer&gt;</code></li>
</ul>

<p>Consume the body and return a promise that will resolve to a Buffer.</p>

<h4 id="bodytextconverted">body.textConverted()</h4>

<p><small><em>(node-fetch extension)</em></small></p>

<ul>
  <li>Returns: <code>Promise&lt;String&gt;</code></li>
</ul>

<p>Identical to <code class="highlighter-rouge">body.text()</code>, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8, if possible.</p>

<p><a id="class-fetcherror"></a></p>
<h3 id="class-fetcherror">Class: FetchError</h3>

<p><small><em>(node-fetch extension)</em></small></p>

<p>An operational error in the fetching process. See <a href="https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md">ERROR-HANDLING.md</a> for more info.</p>

<h2 id="license">License</h2>

<p>MIT</p>

<h2 id="acknowledgement">Acknowledgement</h2>

<p>Thanks to <a href="https://github.com/github/fetch">github/fetch</a> for providing a solid implementation reference.</p>


        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/karx/karx.github.io">karx.github.io</a> is maintained by <a href="https://github.com/karx">karx</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

    
  </body>
</html>
